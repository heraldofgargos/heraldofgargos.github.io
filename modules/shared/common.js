async function renderHtml(e,a,t=e=>e){var n,r=[],a=await fetch(a);let i=0;for(n of(new DOMParser).parseFromString(await a.text(),"text/html").body.children){var o=n.cloneNode(!0);(o=t(o)).style.opacity="0",o.style.animationFillMode="forwards",o.style.animationDuration="1s",r.push(animate(o,"simple-fade-in",100*i++)),i=Math.min(i,8),e.appendChild(o)}return r}async function renderHeader(e,a){var t=document.createElement("div"),n=(t.classList.add("header"),document.createElement("h1")),a=(n.innerText=a,n.classList.add("title"),t.appendChild(n),document.createElement("a")),n=(a.classList.add("btn-close"),a.href="/#",t.appendChild(a),animate(t,"slide-in-from-top"));return e.appendChild(t),n}async function animate(a,t,n){return new Promise(e=>{(a="string"==typeof a?document.querySelector(a):a).addEventListener("animationend",()=>{e()}),a.addEventListener("animationcancel",()=>{e()}),void 0!==n&&(a.style.animationDelay=n+"ms"),a.style.animationName=t})}async function clearPage(){var e=document.querySelector(".container .page main");await animate(e,"simple-fade-out"),e.remove()}let isHeroImageContracted=!1,displayShown=e=>!("none"===window.getComputedStyle(e,null).display);async function contractHeroImage(){var e=document.querySelector(".hero-image-container");document.querySelector(".hero-image-curtain").style.width="100%",displayShown(e)&&await delay(500),e.style.flex="0",displayShown(e)&&await delay(500),isHeroImageContracted=!0}async function expandHeroImage(){var e;isHeroImageContracted&&((e=document.querySelector(".hero-image-container")).style.flex="1",displayShown(e)&&await delay(500),document.querySelector(".hero-image-curtain").style.width="0%",displayShown(e)&&await delay(500),isHeroImageContracted=!1)}async function delay(a){return new Promise(e=>setTimeout(()=>e(),a))}function loadImage(t){return new Promise(e=>{let a=new Image;a.onload=function(){e(a)},a.src=t})}export{renderHtml,renderHeader,animate,clearPage,contractHeroImage,expandHeroImage,delay,loadImage};