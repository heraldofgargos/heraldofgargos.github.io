import{clearPage}from"./common.js";import{updateHeroImage}from"./heroImage.js";let routes=[{name:"Home",title:"Life of Alex",path:"",module:"../home/home.js"},{name:"Me",title:"About Me | Life of Alex",path:"#about",module:"../about/about.js"},{name:"Journal",title:"Journal of Alex",path:"#journal",module:"../journal/journal.js"},{name:"Travel Videos",title:"Travel Videos | Life of Alex",path:"#videos",module:"../videos/videos.js"},{name:"Photo Wall",title:"Photos | Life of Alex",path:"#photos",module:"../photos/photos.js"},{name:"Music",title:"Music | Life of Alex",path:"#music",module:"../music/music.js"}],routeToModuleMap={};for(let e of routes)routeToModuleMap[e.path]={module:e.module,title:e.title};window.addEventListener("hashchange",e=>{navigate(window.location.hash)});let navEvents=[],isNavigating=!1,currModule;async function navigate(e){if(navEvents.push(e),updateHeroImage(e),!isNavigating){for(isNavigating=!0;0<navEvents.length;){let e=navEvents.pop();navEvents=[];let o;if(!(o=e.startsWith("#journal")?routeToModuleMap["#journal"]:routeToModuleMap[e]))return void window.location.replace("/404.html");var t=import(o.module);currModule&&("function"==typeof currModule.clear?await currModule.clear():await clearPage()),currModule=await t,document.title=o.title,await currModule.render(e)}isNavigating=!1}}export{routes,navigate};